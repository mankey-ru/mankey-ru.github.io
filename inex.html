<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Inex Stuff</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>
	<div class="container mt-5">
		<h2>Букмарклеты</h2>
		<p>
			Букмарклет (англ. bookmarklet; bookmark — «закладка» и applet — «апплет») — небольшая JavaScript-программа, оформленная как javascript: URL и сохраняемая как браузерная закладка.
		</p>
		<p>
			Для того, чтобы её сохранить у себя, нужно <b>перетащить кнопку на панель закладок своего браузера</b>.
		</p>
		<p>
			Для того, чтобы использовать - находясь на целевом сайте, <b>кликнуть по этой "закладке"</b> на панели закладок.
		</p>
		<hr/>
		<p>
			<a class="btn btn-primary" href="javascript:(function () {try {const $ = window.jQuery;const trs = $('.kbn-table tbody tr.discover-table-row');if (!trs.length) console.error(`Результатов нет`);let RES = ``;trs.each((trIndex, el) => {const shortSpans = $(el).find('td[data-test-subj=docTableField] span[ng-non-bindable]');RES += Array.from(shortSpans).map((shortSpan) => shortSpan?.innerText?.trim?.()).join(' | ');if (trIndex !== trs.length - 1) {RES += `\n-------------------------------------------------------------------------------------------\n`;}});console.log(RES);navigator.clipboard.writeText(RES);} catch (err) {/*иначе кибана перехватит и переключит страницу*/ console.error(err);}})();">KibCopy</a> скопировать в буфер обмена текст логов. Только то, что выведено на страницу и только то, что есть в основной таблице. Автоматическое копирование в буфер обмена работает только с HTTPS, то есть для того чтобы скопировать логи с kibana.web.rzd, надо открыть консоль браузера и скопировать оттуда руками (кнопка Copy)
		</p>
		<p>
			<a class="btn btn-primary" href="javascript:javascript:(function(){document.write(JSON.parse(document.body.innerText).message)})();">MailView</a> вывести текст рассылки из JSON в HTML
		</p>
		<p>
			<a class="btn btn-primary" href="javascript:(function(){  const myUrl = new URL(window.location); myUrl.searchParams.set('mode', 'xml'); window.location = myUrl.href;  })()">mode=XML</a> вывести XML страницы
		</p>
		<p>
			<a class="btn btn-primary" href="javascript:(function(){  const myUrl = new URL(window.location); myUrl.searchParams.set('mode', 'json'); window.location = myUrl.href;  })()">mode=JSON</a> вывести JSON страницы
		</p>
	</div>
</body>
</html>
